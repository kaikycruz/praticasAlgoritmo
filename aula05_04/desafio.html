<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercício 3</title>
  </head>
  <body>
    <span style="color: blue" id="span_inicial"
      >Total guardado no cofrinho: R$<u>0</u></span
    ><br />
    <span id="span_dep" style="color: blue">Depósitos efetuados: <u>0</u> </span
    ><br />
    <span id="span_ret" style="color: blue">Retiradas efetuadas: <u>0</u></span
    ><br />
    <button onclick="desfazer()">Desfazer depósito</button>
    <button onclick="dep05()">Depositar 0,50</button>
    <button onclick="dep2()">Depositar 2,00</button>
    <button onclick="ret05()">Retirar 0,50</button><br />

    <br />

    <span id="valorRet">Insira o valor para retirada:</span>
    <input id="input_valorRet" /><br />
    <button onclick="retirar()">Retirar</button>

  </body>
</html>

<script>
  var cofre = 0;
  var deposito = 0;
  var retirada = 0;

  function desfazer() {
    cofre = cofre + 0.5
    span_inicial.innerHTML = cofre.length
  }

  function dep05() {
    cofre = cofre + 0.5;
    deposito = deposito + 1;
    
    span_inicial.innerHTML = `Total guardado no cofrinho: R$${cofre}`;
    span_dep.innerHTML = `Depósitos efetuados: ${deposito}`;
  }
  function dep2() {
    cofre = cofre + 2.0;
    deposito = deposito + 1;
    span_inicial.innerHTML = `Total guardado no cofrinho: R$${cofre}`;
    span_dep.innerHTML = `Depósitos efetuados: ${deposito}`;
  }
  function ret05() {
    cofre = cofre - 0.5;
    retirada = retirada + 1;
    span_inicial.innerHTML = `Total guardado no cofrinho: R$${cofre}`;
    span_ret.innerHTML = `Retiradas efetuadas: ${retirada}`;
  }
  function retirar() {
    var retValor = Number(input_valorRet.value);

    if (cofre - retValor < 0) {
      alert("Por favor, inserir um valor válido!");
    } else {
      cofre = cofre - retValor;
      retirada = retirada + 1;
      span_inicial.innerHTML = `Total guardado no cofrinho: R$${cofre}`;
      span_ret.innerHTML = `Retiradas efetuadas: ${retirada}`;
    }
  }
</script>
